{
    "cells": [
        {
            "metadata": {
                "collapsed": true
            },
            "cell_type": "markdown",
            "source": "# Gregory Pollard Battle of the Neighbourhoods Project"
        },
        {
            "metadata": {},
            "cell_type": "markdown",
            "source": "## NOTE: THE REPORT IS A WORD DOCUMENT IN THE GITHUB REPOSITORY"
        },
        {
            "metadata": {},
            "cell_type": "markdown",
            "source": "### Import Necessary Packages"
        },
        {
            "metadata": {},
            "cell_type": "code",
            "source": "import requests # library to handle requests\nimport pandas as pd # library for data analsysis\nimport numpy as np # library to handle data in a vectorized manner\nimport random # library for random number generation\n\n\n!pip install geopy\nfrom geopy.geocoders import Nominatim # module to convert an address into latitude and longitude values\n\n# libraries for displaying images\nfrom IPython.display import Image \nfrom IPython.core.display import HTML \n    \n# tranforming json file into a pandas dataframe library\nfrom pandas.io.json import json_normalize\n\n\n! pip install folium==0.5.0\nimport folium # plotting library\n\nprint('Folium installed')\nprint('Libraries imported.')\n\n\npd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', None)\n\nimport json # library to handle JSON files\n\n!conda install --override-channels -c main package_in_main\n\n#!conda install -c conda-forge geopy --yes # uncomment this line if you haven't completed the Foursquare API lab\n\nfrom pandas.io.json import json_normalize # tranform JSON file into a pandas dataframe\n\n# Matplotlib and associated plotting modules\nimport matplotlib.cm as cm\nimport matplotlib.colors as colors\n\n# import k-means from clustering stage\nfrom sklearn.cluster import KMeans\n\n#!conda install -c conda-forge folium=0.5.0 --yes # uncomment this line if you haven't completed the Foursquare API lab\nimport folium # map rendering library\n\nprint('Libraries imported.')",
            "execution_count": 2,
            "outputs": [
                {
                    "output_type": "stream",
                    "text": "Requirement already satisfied: geopy in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (2.0.0)\nRequirement already satisfied: geographiclib<2,>=1.49 in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (from geopy) (1.50)\nCollecting folium==0.5.0\n  Downloading folium-0.5.0.tar.gz (79 kB)\n\u001b[K     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 79 kB 6.7 MB/s eta 0:00:011\n\u001b[?25hCollecting branca\n  Downloading branca-0.4.1-py3-none-any.whl (24 kB)\nRequirement already satisfied: jinja2 in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (from folium==0.5.0) (2.11.2)\nRequirement already satisfied: requests in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (from folium==0.5.0) (2.24.0)\nRequirement already satisfied: six in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (from folium==0.5.0) (1.15.0)\nRequirement already satisfied: MarkupSafe>=0.23 in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (from jinja2->folium==0.5.0) (1.1.1)\nRequirement already satisfied: idna<3,>=2.5 in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (from requests->folium==0.5.0) (2.9)\nRequirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (from requests->folium==0.5.0) (1.25.9)\nRequirement already satisfied: certifi>=2017.4.17 in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (from requests->folium==0.5.0) (2020.12.5)\nRequirement already satisfied: chardet<4,>=3.0.2 in /opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages (from requests->folium==0.5.0) (3.0.4)\nBuilding wheels for collected packages: folium\n  Building wheel for folium (setup.py) ... \u001b[?25ldone\n\u001b[?25h  Created wheel for folium: filename=folium-0.5.0-py3-none-any.whl size=76240 sha256=1799209c037753d203f79cd56d7fae7d2cf9be31d2909534a0d112066e8dfc93\n  Stored in directory: /tmp/wsuser/.cache/pip/wheels/b2/2f/2c/109e446b990d663ea5ce9b078b5e7c1a9c45cca91f377080f8\nSuccessfully built folium\nInstalling collected packages: branca, folium\nSuccessfully installed branca-0.4.1 folium-0.5.0\nFolium installed\nLibraries imported.\nCollecting package metadata (current_repodata.json): done\nSolving environment: failed with initial frozen solve. Retrying with flexible solve.\nCollecting package metadata (repodata.json): done\nSolving environment: failed with initial frozen solve. Retrying with flexible solve.\n\nPackagesNotFoundError: The following packages are not available from current channels:\n\n  - package_in_main\n\nCurrent channels:\n\n  - https://conda.anaconda.org/main/linux-64\n  - https://conda.anaconda.org/main/noarch\n\nTo search for alternate channels that may provide the conda package you're\nlooking for, navigate to\n\n    https://anaconda.org\n\nand use the search bar at the top of the page.\n\n\nLibraries imported.\n",
                    "name": "stdout"
                }
            ]
        },
        {
            "metadata": {},
            "cell_type": "markdown",
            "source": "\n\n### Prepare Foursquare Details"
        },
        {
            "metadata": {},
            "cell_type": "code",
            "source": "CLIENT_ID = 'X5OYKVDZ3N4VVLFJERLAXNHKHPIKVR14BIJPSHXRLZ314EZI' # your Foursquare ID\nCLIENT_SECRET = 'UCVWLRPX4LSGGTW3EQYFSO0HL2L0TKCM0X01DPQUWNOZOBWF' # your Foursquare Secret\nACCESS_TOKEN = 'ACI1JL2T214BVPNOZUWWA3PNG2U0MLX0R0HIBVKC2KISRUNJ' # your FourSquare Access Token\nVERSION = '20180604'\nprint('Your credentials:')\nprint('CLIENT_ID: ' + CLIENT_ID)\nprint('CLIENT_SECRET:' + CLIENT_SECRET)",
            "execution_count": 3,
            "outputs": [
                {
                    "output_type": "stream",
                    "text": "Your credentials:\nCLIENT_ID: X5OYKVDZ3N4VVLFJERLAXNHKHPIKVR14BIJPSHXRLZ314EZI\nCLIENT_SECRET:UCVWLRPX4LSGGTW3EQYFSO0HL2L0TKCM0X01DPQUWNOZOBWF\n",
                    "name": "stdout"
                }
            ]
        },
        {
            "metadata": {},
            "cell_type": "markdown",
            "source": "### Define Coordinares of the Center of the Call and the Query"
        },
        {
            "metadata": {},
            "cell_type": "code",
            "source": "geolocator = Nominatim(user_agent=\"foursquare_agent\")\nlatitude = 40.72537645209457\nlongitude = -73.9935543780856\nsearch_query = 'Pizza'\nradius =10000\nprint(latitude, longitude)",
            "execution_count": 4,
            "outputs": [
                {
                    "output_type": "stream",
                    "text": "40.72537645209457 -73.9935543780856\n",
                    "name": "stdout"
                }
            ]
        },
        {
            "metadata": {},
            "cell_type": "markdown",
            "source": "### Define the URL and Make the \"Search\" Call"
        },
        {
            "metadata": {},
            "cell_type": "code",
            "source": "url = 'https://api.foursquare.com/v2/venues/search?client_id={}&client_secret={}&ll={},{}&oauth_token={}&v={}&query={}&radius={}'.format(CLIENT_ID, CLIENT_SECRET, latitude, longitude,ACCESS_TOKEN, VERSION, search_query, radius)\nresults = requests.get(url).json()",
            "execution_count": 5,
            "outputs": []
        },
        {
            "metadata": {},
            "cell_type": "markdown",
            "source": "### Transform the Data into a Pandas Dataframe and Trim out Unnecessary Data"
        },
        {
            "metadata": {},
            "cell_type": "code",
            "source": "# assign relevant part of JSON to venues\nvenues = results['response']['venues']\n\n# tranform venues into a dataframe\ndataframe = json_normalize(venues)\n\n# keep only columns that include venue name, and anything that is associated with location\nfiltered_columns = ['name', 'categories'] + [col for col in dataframe.columns if col.startswith('location.')] + ['id']\ndataframe_filtered = dataframe.loc[:, filtered_columns]\n\n# function that extracts the category of the venue\ndef get_category_type(row):\n    try:\n        categories_list = row['categories']\n    except:\n        categories_list = row['venue.categories']\n        \n    if len(categories_list) == 0:\n        return None\n    else:\n        return categories_list[0]['name']\n\n# filter the category for each row\ndataframe_filtered['categories'] = dataframe_filtered.apply(get_category_type, axis=1)\n\n# clean column names by keeping only last term\ndataframe_filtered.columns = [column.split('.')[-1] for column in dataframe_filtered.columns]\n\ndataframe_filtered.drop(columns=['crossStreet', 'address','labeledLatLngs','postalCode', 'city','state','country', 'formattedAddress','id','cc','categories'], inplace = True)\n\ndataframe_filtered",
            "execution_count": 6,
            "outputs": [
                {
                    "output_type": "stream",
                    "text": "/opt/conda/envs/Python-3.7-main/lib/python3.7/site-packages/ipykernel/__main__.py:5: FutureWarning: pandas.io.json.json_normalize is deprecated, use pandas.json_normalize instead\n",
                    "name": "stderr"
                },
                {
                    "output_type": "execute_result",
                    "execution_count": 6,
                    "data": {
                        "text/plain": "                                             name        lat        lng  \\\n0                             Prince Street Pizza  40.723093 -73.994527   \n1                                     Joe's Pizza  40.730461 -74.001972   \n2                      Lombardi's Coal Oven Pizza  40.721636 -73.995635   \n3                      Famous Ben's Pizza of SoHo  40.724840 -74.002551   \n4                                  Champion Pizza  40.721638 -73.997470   \n5                                 99\u00a2 Fresh Pizza  40.726376 -73.989338   \n6                              East Village Pizza  40.728272 -73.985006   \n7                                   Pizza Mercato  40.730050 -73.993999   \n8             Artichoke Basille's Pizza & Brewery  40.729879 -74.000600   \n9                                     Bravo Pizza  40.734198 -73.989269   \n10                            Taco Bell/Pizza Hut  40.735398 -73.992790   \n11                          Bleecker Street Pizza  40.732268 -74.003589   \n12                                  2 Bros. Pizza  40.728905 -73.988324   \n13                                  Percy's Pizza  40.729292 -74.001351   \n14                                Stromboli Pizza  40.727691 -73.985305   \n15                             Little Gio's Pizza  40.723791 -73.988103   \n16                                  Fiore's Pizza  40.728772 -74.000196   \n17                                    Ray's Pizza  40.729250 -73.989828   \n18                      Artichoke Basille\u2019s Pizza  40.732028 -73.983921   \n19  Scott's Pizza Tours - NYC Pizza Walk/Bus Tour  40.722063 -73.996536   \n20                           Nesto's Pizza & Deli  40.729224 -73.992039   \n21                                    Stars Pizza  40.724256 -73.988142   \n22                         Little Italy Pizza III  40.734726 -73.992091   \n23                     Village Restaurant & Pizza  40.723941 -73.987941   \n24                                99\u00a2 Fresh Pizza  40.722609 -73.988416   \n25                             Grocery Deli-Pizza  40.720858 -73.997515   \n26                            AKA 99\u00a2 Fresh Pizza  40.719254 -73.989562   \n27                        Little Italy Pizza Deli  40.727251 -74.005499   \n28                                 Solo Pizza NYC  40.722425 -73.983146   \n29                                  Pizza Shop La  40.725788 -73.983551   \n\n    distance  \n0        267  \n1        908  \n2        451  \n3        761  \n4        531  \n5        372  \n6        789  \n7        521  \n8        777  \n9       1046  \n10      1117  \n11      1142  \n12       590  \n13       789  \n14       742  \n15       492  \n16       675  \n17       533  \n18      1099  \n19       446  \n20       447  \n21       473  \n22      1048  \n23       499  \n24       531  \n25       603  \n26       760  \n27      1029  \n28       937  \n29       845  ",
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>lat</th>\n      <th>lng</th>\n      <th>distance</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Prince Street Pizza</td>\n      <td>40.723093</td>\n      <td>-73.994527</td>\n      <td>267</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Joe's Pizza</td>\n      <td>40.730461</td>\n      <td>-74.001972</td>\n      <td>908</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Lombardi's Coal Oven Pizza</td>\n      <td>40.721636</td>\n      <td>-73.995635</td>\n      <td>451</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Famous Ben's Pizza of SoHo</td>\n      <td>40.724840</td>\n      <td>-74.002551</td>\n      <td>761</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Champion Pizza</td>\n      <td>40.721638</td>\n      <td>-73.997470</td>\n      <td>531</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>99\u00a2 Fresh Pizza</td>\n      <td>40.726376</td>\n      <td>-73.989338</td>\n      <td>372</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>East Village Pizza</td>\n      <td>40.728272</td>\n      <td>-73.985006</td>\n      <td>789</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Pizza Mercato</td>\n      <td>40.730050</td>\n      <td>-73.993999</td>\n      <td>521</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Artichoke Basille's Pizza &amp; Brewery</td>\n      <td>40.729879</td>\n      <td>-74.000600</td>\n      <td>777</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Bravo Pizza</td>\n      <td>40.734198</td>\n      <td>-73.989269</td>\n      <td>1046</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Taco Bell/Pizza Hut</td>\n      <td>40.735398</td>\n      <td>-73.992790</td>\n      <td>1117</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Bleecker Street Pizza</td>\n      <td>40.732268</td>\n      <td>-74.003589</td>\n      <td>1142</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>2 Bros. Pizza</td>\n      <td>40.728905</td>\n      <td>-73.988324</td>\n      <td>590</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Percy's Pizza</td>\n      <td>40.729292</td>\n      <td>-74.001351</td>\n      <td>789</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Stromboli Pizza</td>\n      <td>40.727691</td>\n      <td>-73.985305</td>\n      <td>742</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Little Gio's Pizza</td>\n      <td>40.723791</td>\n      <td>-73.988103</td>\n      <td>492</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>Fiore's Pizza</td>\n      <td>40.728772</td>\n      <td>-74.000196</td>\n      <td>675</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Ray's Pizza</td>\n      <td>40.729250</td>\n      <td>-73.989828</td>\n      <td>533</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Artichoke Basille\u2019s Pizza</td>\n      <td>40.732028</td>\n      <td>-73.983921</td>\n      <td>1099</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>Scott's Pizza Tours - NYC Pizza Walk/Bus Tour</td>\n      <td>40.722063</td>\n      <td>-73.996536</td>\n      <td>446</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>Nesto's Pizza &amp; Deli</td>\n      <td>40.729224</td>\n      <td>-73.992039</td>\n      <td>447</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>Stars Pizza</td>\n      <td>40.724256</td>\n      <td>-73.988142</td>\n      <td>473</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>Little Italy Pizza III</td>\n      <td>40.734726</td>\n      <td>-73.992091</td>\n      <td>1048</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>Village Restaurant &amp; Pizza</td>\n      <td>40.723941</td>\n      <td>-73.987941</td>\n      <td>499</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>99\u00a2 Fresh Pizza</td>\n      <td>40.722609</td>\n      <td>-73.988416</td>\n      <td>531</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>Grocery Deli-Pizza</td>\n      <td>40.720858</td>\n      <td>-73.997515</td>\n      <td>603</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>AKA 99\u00a2 Fresh Pizza</td>\n      <td>40.719254</td>\n      <td>-73.989562</td>\n      <td>760</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>Little Italy Pizza Deli</td>\n      <td>40.727251</td>\n      <td>-74.005499</td>\n      <td>1029</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>Solo Pizza NYC</td>\n      <td>40.722425</td>\n      <td>-73.983146</td>\n      <td>937</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>Pizza Shop La</td>\n      <td>40.725788</td>\n      <td>-73.983551</td>\n      <td>845</td>\n    </tr>\n  </tbody>\n</table>\n</div>"
                    },
                    "metadata": {}
                }
            ]
        },
        {
            "metadata": {},
            "cell_type": "markdown",
            "source": "### Create the Map of Venues"
        },
        {
            "metadata": {
                "scrolled": true
            },
            "cell_type": "code",
            "source": "venues_map = folium.Map(location=[latitude, longitude], zoom_start=13) # generate map centred around the Conrad Hotel\n\n# add a red circle marker to represent the Conrad Hotel\nfolium.CircleMarker(\n    [latitude+0.001, longitude-0.0025],\n    radius=20,\n    color='cyan',\n    popup='The Sheen Center for Thought & Culture',\n    fill = True,\n    fill_color = 'red',\n    fill_opacity = 0\n).add_to(venues_map)\n\n# add the Italian restaurants as blue circle markers\nfor lat, lng, label in zip(dataframe_filtered.lat, dataframe_filtered.lng, dataframe_filtered.name):\n    folium.CircleMarker(\n        [lat, lng],\n        radius=5,\n        color='blue',\n        popup=folium.Popup(label, parse_html=True),\n        fill = True,\n        fill_color='blue',\n        fill_opacity=0.6\n    ).add_to(venues_map)\n\n# display map\ndisplay(venues_map)",
            "execution_count": 29,
            "outputs": [
                {
                    "output_type": "display_data",
                    "data": {
                        "text/plain": "<folium.folium.Map at 0x7f505b216250>",
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYiA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDAuNzI1Mzc2NDUyMDk0NTcsLTczLjk5MzU1NDM3ODA4NTZdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyXzI4YmIzMTUxZWQ3MDQxNGZhNWJkNDM4YzE2OGJlZjBlID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kNzM1MGM4YzNmZmQ0Mzc3OGRjZmNlOGFhMDZhZjI1MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyNjM3NjQ1MjA5NDU3LC03My45OTYwNTQzNzgwODU2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImN5YW4iLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiAyMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMjg4ZDkwMTE3NmU0N2E2YTliZTRmYTJjYjg1ZGUxNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iYzAyOTEzNGM0ZjI0MjFkYTdkMDgxMDA4NGRkNDU4OSA9ICQoJzxkaXYgaWQ9Imh0bWxfYmMwMjkxMzRjNGYyNDIxZGE3ZDA4MTAwODRkZDQ1ODkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBTaGVlbiBDZW50ZXIgZm9yIFRob3VnaHQgJiBDdWx0dXJlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hMjg4ZDkwMTE3NmU0N2E2YTliZTRmYTJjYjg1ZGUxNi5zZXRDb250ZW50KGh0bWxfYmMwMjkxMzRjNGYyNDIxZGE3ZDA4MTAwODRkZDQ1ODkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDczNTBjOGMzZmZkNDM3NzhkY2ZjZThhYTA2YWYyNTAuYmluZFBvcHVwKHBvcHVwX2EyODhkOTAxMTc2ZTQ3YTZhOWJlNGZhMmNiODVkZTE2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZkMGM2OWVmYTVmNTRmZmVhMzkzMmRkODM4Mzc4OWIyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzIzMDkzMjYxNDU2NzQsLTczLjk5NDUyNzI5NDQ3NzQ1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRjZDQ3ZjQ1ODQzNDRiYjhhZmQ2ZDE2ZGMwMDc1MTY3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBjNGRiNDcxOGRiMjQ4MGViYWNhODkxMWM0MjRiOGEzID0gJCgnPGRpdiBpZD0iaHRtbF8wYzRkYjQ3MThkYjI0ODBlYmFjYTg5MTFjNDI0YjhhMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UHJpbmNlIFN0cmVldCBQaXp6YTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGNkNDdmNDU4NDM0NGJiOGFmZDZkMTZkYzAwNzUxNjcuc2V0Q29udGVudChodG1sXzBjNGRiNDcxOGRiMjQ4MGViYWNhODkxMWM0MjRiOGEzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZkMGM2OWVmYTVmNTRmZmVhMzkzMmRkODM4Mzc4OWIyLmJpbmRQb3B1cChwb3B1cF80Y2Q0N2Y0NTg0MzQ0YmI4YWZkNmQxNmRjMDA3NTE2Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iOWNkMTI2MGQ1OTA0NDQ3OTg1ZmJiNjA0MGJkYjVmZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjczMDQ2MTExNTE5OTQ5LC03NC4wMDE5NzIyNjE1NTA5Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNDQ5N2Q0NjYyNDI0M2RjYmM5MDQzMGYyNTk1ZjhhNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mZmFhNzBiOTEwMGY0M2U4OTUyZDlkYTQxYTNhMmJkNSA9ICQoJzxkaXYgaWQ9Imh0bWxfZmZhYTcwYjkxMDBmNDNlODk1MmQ5ZGE0MWEzYTJiZDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkpvZSYjMzk7cyBQaXp6YTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzQ0OTdkNDY2MjQyNDNkY2JjOTA0MzBmMjU5NWY4YTYuc2V0Q29udGVudChodG1sX2ZmYWE3MGI5MTAwZjQzZTg5NTJkOWRhNDFhM2EyYmQ1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I5Y2QxMjYwZDU5MDQ0NDc5ODVmYmI2MDQwYmRiNWZkLmJpbmRQb3B1cChwb3B1cF8zNDQ5N2Q0NjYyNDI0M2RjYmM5MDQzMGYyNTk1ZjhhNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83ZGYxMjY1YTY3YzQ0MzdkYTVlMzQ1ZWIwMmRlNmI2MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyMTYzNjI1NDQzMDgwNSwtNzMuOTk1NjM0OTUzMDI5MDRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDNmZmNiOGExMzA1NGM0YzgxNDQxZDlkMGRjMzIzNGQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTA4YzIxZTAwYjUxNDlkNGI0ZDllMzExOTg1OWJmMGEgPSAkKCc8ZGl2IGlkPSJodG1sX2UwOGMyMWUwMGI1MTQ5ZDRiNGQ5ZTMxMTk4NTliZjBhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Mb21iYXJkaSYjMzk7cyBDb2FsIE92ZW4gUGl6emE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAzZmZjYjhhMTMwNTRjNGM4MTQ0MWQ5ZDBkYzMyMzRkLnNldENvbnRlbnQoaHRtbF9lMDhjMjFlMDBiNTE0OWQ0YjRkOWUzMTE5ODU5YmYwYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83ZGYxMjY1YTY3YzQ0MzdkYTVlMzQ1ZWIwMmRlNmI2MS5iaW5kUG9wdXAocG9wdXBfMDNmZmNiOGExMzA1NGM0YzgxNDQxZDlkMGRjMzIzNGQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODYxY2YxMzg2NGI4NDk0MWI0MTkxYTUwMzg0ZGVkYjIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjQ4Mzk1MDg0Mjk3NDYsLTc0LjAwMjU1MDg0MDA1ODk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VlYjZjMjMwY2ZlZTRmYzRhNWQ3YzFmYmFmYjA0MDMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY3MTgxZjA2OTE1ZTQ0OWQ4NDRhMzUwY2U2ZWZmMjg2ID0gJCgnPGRpdiBpZD0iaHRtbF82NzE4MWYwNjkxNWU0NDlkODQ0YTM1MGNlNmVmZjI4NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmFtb3VzIEJlbiYjMzk7cyBQaXp6YSBvZiBTb0hvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZWI2YzIzMGNmZWU0ZmM0YTVkN2MxZmJhZmIwNDAzMy5zZXRDb250ZW50KGh0bWxfNjcxODFmMDY5MTVlNDQ5ZDg0NGEzNTBjZTZlZmYyODYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODYxY2YxMzg2NGI4NDk0MWI0MTkxYTUwMzg0ZGVkYjIuYmluZFBvcHVwKHBvcHVwX2VlYjZjMjMwY2ZlZTRmYzRhNWQ3YzFmYmFmYjA0MDMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhlMTYzYjBiODA2NjRhZTRhYTA2OGMyOTdlODdlM2YwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzIxNjM3NTQyMjQ4MTk2LC03My45OTc0NzAwMjE5NTgxNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ZDAzNTNlMGRlNzg0OGFhYjY0ODdhOWQ4N2I3YzIyMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MTAxMGUyODM0ZTQ0MjNkODM4NzkyYTJmY2Y2YmExNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNjEwMTBlMjgzNGU0NDIzZDgzODc5MmEyZmNmNmJhMTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoYW1waW9uIFBpenphPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80ZDAzNTNlMGRlNzg0OGFhYjY0ODdhOWQ4N2I3YzIyMi5zZXRDb250ZW50KGh0bWxfNjEwMTBlMjgzNGU0NDIzZDgzODc5MmEyZmNmNmJhMTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGUxNjNiMGI4MDY2NGFlNGFhMDY4YzI5N2U4N2UzZjAuYmluZFBvcHVwKHBvcHVwXzRkMDM1M2UwZGU3ODQ4YWFiNjQ4N2E5ZDg3YjdjMjIyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2EyOWM4YTVjY2UwNTQzZTFiZDI2ZjAzN2FjMjNjMDA1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzI2Mzc1NzM3NDU2NjYsLTczLjk4OTMzODA0MzYzNTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjhhODRhMjBkY2NkNGU4ODg0OTMxNWQ0ZTU0ZDU0NTQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTkwMTY3Y2IwNDFkNDQxMjkxNTcwMTRkMWM2MjdmNzEgPSAkKCc8ZGl2IGlkPSJodG1sX2E5MDE2N2NiMDQxZDQ0MTI5MTU3MDE0ZDFjNjI3ZjcxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij45OcKiIEZyZXNoIFBpenphPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82OGE4NGEyMGRjY2Q0ZTg4ODQ5MzE1ZDRlNTRkNTQ1NC5zZXRDb250ZW50KGh0bWxfYTkwMTY3Y2IwNDFkNDQxMjkxNTcwMTRkMWM2MjdmNzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTI5YzhhNWNjZTA1NDNlMWJkMjZmMDM3YWMyM2MwMDUuYmluZFBvcHVwKHBvcHVwXzY4YTg0YTIwZGNjZDRlODg4NDkzMTVkNGU1NGQ1NDU0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY5NWYxZjA3N2Y1MjQxYTJhMjk3ZjA5MWJjYTM2ZDA1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzI4MjcyMzU2NDk4OTEsLTczLjk4NTAwNjQwNzcwMzM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgzMzA4ZmY1ZjQzMzQzZThiYWE3NGI0MjI4ZGUyMGY3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YzYjBhNmQxYjYxOTQzNGI5Y2E3YWFiNWQyYWQyMTVjID0gJCgnPGRpdiBpZD0iaHRtbF9mM2IwYTZkMWI2MTk0MzRiOWNhN2FhYjVkMmFkMjE1YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBWaWxsYWdlIFBpenphPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MzMwOGZmNWY0MzM0M2U4YmFhNzRiNDIyOGRlMjBmNy5zZXRDb250ZW50KGh0bWxfZjNiMGE2ZDFiNjE5NDM0YjljYTdhYWI1ZDJhZDIxNWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjk1ZjFmMDc3ZjUyNDFhMmEyOTdmMDkxYmNhMzZkMDUuYmluZFBvcHVwKHBvcHVwXzgzMzA4ZmY1ZjQzMzQzZThiYWE3NGI0MjI4ZGUyMGY3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFkODdmZDk3YTYwZjQ1NDViZTJjYTNiNGYyZTdhZjJhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzMwMDQ5ODIzNjc5NiwtNzMuOTkzOTk4NjY3Mjc4NTZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGZhNDg2Njg1Yzc2NGZjYmE5MTZlYWE2MzM1NzBjYWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDVlNjNjMGI4MWEyNDY3MDkxMjQ0NGUyYTU0OWFlOTMgPSAkKCc8ZGl2IGlkPSJodG1sXzQ1ZTYzYzBiODFhMjQ2NzA5MTI0NDRlMmE1NDlhZTkzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QaXp6YSBNZXJjYXRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84ZmE0ODY2ODVjNzY0ZmNiYTkxNmVhYTYzMzU3MGNhYi5zZXRDb250ZW50KGh0bWxfNDVlNjNjMGI4MWEyNDY3MDkxMjQ0NGUyYTU0OWFlOTMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWQ4N2ZkOTdhNjBmNDU0NWJlMmNhM2I0ZjJlN2FmMmEuYmluZFBvcHVwKHBvcHVwXzhmYTQ4NjY4NWM3NjRmY2JhOTE2ZWFhNjMzNTcwY2FiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM4OWVkN2FjZDFmZTQzZDBiMjUzNjIwMTM1ODJiMTMzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzI5ODc5MTM2NTIwMjQ2LC03NC4wMDA1OTk3Nzc2MTUyMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NzYxNzVhZDE1ZmM0MDAxYjMyNTJlYWIxYjdhNDUwMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYTViNTZhZDNiYTM0YjhjYjgxNmQzNGFmNmE0YTRjNSA9ICQoJzxkaXYgaWQ9Imh0bWxfZGE1YjU2YWQzYmEzNGI4Y2I4MTZkMzRhZjZhNGE0YzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFydGljaG9rZSBCYXNpbGxlJiMzOTtzIFBpenphICZhbXA7IEJyZXdlcnk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk3NjE3NWFkMTVmYzQwMDFiMzI1MmVhYjFiN2E0NTAxLnNldENvbnRlbnQoaHRtbF9kYTViNTZhZDNiYTM0YjhjYjgxNmQzNGFmNmE0YTRjNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zODllZDdhY2QxZmU0M2QwYjI1MzYyMDEzNTgyYjEzMy5iaW5kUG9wdXAocG9wdXBfOTc2MTc1YWQxNWZjNDAwMWIzMjUyZWFiMWI3YTQ1MDEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzNlNWQ0NjVkYjQzNGMyZWI0ZDZjYmYyMjJlMTA1OGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MzQxOTc3OTcwODA1NTQsLTczLjk4OTI2OTIxNTk0NDk2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RiYWY5NWQxYzIyMTQyODg5YzdmYTNhOTNjZGExY2NlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE3ODMzODQ1ZTAwNTQ5MTU4NTBjZWI1ZTYwNmQ5OGFhID0gJCgnPGRpdiBpZD0iaHRtbF8xNzgzMzg0NWUwMDU0OTE1ODUwY2ViNWU2MDZkOThhYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QnJhdm8gUGl6emE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RiYWY5NWQxYzIyMTQyODg5YzdmYTNhOTNjZGExY2NlLnNldENvbnRlbnQoaHRtbF8xNzgzMzg0NWUwMDU0OTE1ODUwY2ViNWU2MDZkOThhYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zM2U1ZDQ2NWRiNDM0YzJlYjRkNmNiZjIyMmUxMDU4Yi5iaW5kUG9wdXAocG9wdXBfZGJhZjk1ZDFjMjIxNDI4ODljN2ZhM2E5M2NkYTFjY2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDFkMzhlNDRmYzc2NGY4MmJlN2VkNzllMjE0YTI2NTQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MzUzOTc2NTU3MTE2LC03My45OTI3ODk5MTUzNDQyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MDA5ODYxNDMxMjc0ZWVhYjc3MDNmZTM0YTRmN2Q4NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNTY4NTljNThiN2E0Y2U3YmRjMzAyYTUzNmEwMzUzOSA9ICQoJzxkaXYgaWQ9Imh0bWxfMjU2ODU5YzU4YjdhNGNlN2JkYzMwMmE1MzZhMDM1MzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRhY28gQmVsbC9QaXp6YSBIdXQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgwMDk4NjE0MzEyNzRlZWFiNzcwM2ZlMzRhNGY3ZDg0LnNldENvbnRlbnQoaHRtbF8yNTY4NTljNThiN2E0Y2U3YmRjMzAyYTUzNmEwMzUzOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMWQzOGU0NGZjNzY0ZjgyYmU3ZWQ3OWUyMTRhMjY1NC5iaW5kUG9wdXAocG9wdXBfODAwOTg2MTQzMTI3NGVlYWI3NzAzZmUzNGE0ZjdkODQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTM5MzFiOGZjMGRmNDhmNzg1Nzg1ZTNkZjVhMmI1NjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MzIyNjc5MzkyNjczMSwtNzQuMDAzNTg5MTM3NTE0NTRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2FiZjVkYjUzMzE4NDU5Nzg5OTAyZDY3YmZhYTcyMWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTgyNTM4OWM5M2MzNDk0Yjk1MTgyMDRlYjA5NWUyODggPSAkKCc8ZGl2IGlkPSJodG1sX2E4MjUzODljOTNjMzQ5NGI5NTE4MjA0ZWIwOTVlMjg4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CbGVlY2tlciBTdHJlZXQgUGl6emE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdhYmY1ZGI1MzMxODQ1OTc4OTkwMmQ2N2JmYWE3MjFkLnNldENvbnRlbnQoaHRtbF9hODI1Mzg5YzkzYzM0OTRiOTUxODIwNGViMDk1ZTI4OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMzkzMWI4ZmMwZGY0OGY3ODU3ODVlM2RmNWEyYjU2Ny5iaW5kUG9wdXAocG9wdXBfN2FiZjVkYjUzMzE4NDU5Nzg5OTAyZDY3YmZhYTcyMWQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWFiNmE0MzIzNGQzNDM2YzlhNDQ2ZjI0MGUxNTZhNjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43Mjg5MDUyNDEzMjMzOCwtNzMuOTg4MzI0MDE3NzcxNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NGRjNTAyOTgxN2M0OGE2OTVmODkzYWUwN2UwZmQ5NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mZmU1M2NlMDJiNjk0MWUwODM0M2M3Mzg3YjgyMzdiYSA9ICQoJzxkaXYgaWQ9Imh0bWxfZmZlNTNjZTAyYjY5NDFlMDgzNDNjNzM4N2I4MjM3YmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjIgQnJvcy4gUGl6emE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU0ZGM1MDI5ODE3YzQ4YTY5NWY4OTNhZTA3ZTBmZDk3LnNldENvbnRlbnQoaHRtbF9mZmU1M2NlMDJiNjk0MWUwODM0M2M3Mzg3YjgyMzdiYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lYWI2YTQzMjM0ZDM0MzZjOWE0NDZmMjQwZTE1NmE2OC5iaW5kUG9wdXAocG9wdXBfNTRkYzUwMjk4MTdjNDhhNjk1Zjg5M2FlMDdlMGZkOTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODc1ZjgwZDBiOGY1NDYwNTk4MDFmYTQ2Mjc1NWMxZjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjkyOTE3NjkzMjIwNiwtNzQuMDAxMzUxMzk3NjQ5MDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGY0MDg3ODc4Zjg2NDM2MGIyMzU4ZTljNThlZDFkNTIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTcyOWExMzUzMTViNGI4Zjg1YjRhMzdkNTE1NzFhMWYgPSAkKCc8ZGl2IGlkPSJodG1sX2U3MjlhMTM1MzE1YjRiOGY4NWI0YTM3ZDUxNTcxYTFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QZXJjeSYjMzk7cyBQaXp6YTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGY0MDg3ODc4Zjg2NDM2MGIyMzU4ZTljNThlZDFkNTIuc2V0Q29udGVudChodG1sX2U3MjlhMTM1MzE1YjRiOGY4NWI0YTM3ZDUxNTcxYTFmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg3NWY4MGQwYjhmNTQ2MDU5ODAxZmE0NjI3NTVjMWY3LmJpbmRQb3B1cChwb3B1cF80ZjQwODc4NzhmODY0MzYwYjIzNThlOWM1OGVkMWQ1Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yMGNhOTAzMDU3YzA0ZjhjYmM5NDE0NjRhNDk0Yzg0NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyNzY5MTQ2NTk3MTUxLC03My45ODUzMDQ3NTU5Mzg3N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kYWQ0Mzg1MTRjNGI0YTJjODg4YzUxMmEwNmRhYzY3NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNWE1OTE5NWE1Mzc0NzRiYmQzYzA0M2U4Zjk5N2Y1NCA9ICQoJzxkaXYgaWQ9Imh0bWxfMjVhNTkxOTVhNTM3NDc0YmJkM2MwNDNlOGY5OTdmNTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0cm9tYm9saSBQaXp6YTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGFkNDM4NTE0YzRiNGEyYzg4OGM1MTJhMDZkYWM2Nzcuc2V0Q29udGVudChodG1sXzI1YTU5MTk1YTUzNzQ3NGJiZDNjMDQzZThmOTk3ZjU0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzIwY2E5MDMwNTdjMDRmOGNiYzk0MTQ2NGE0OTRjODQ3LmJpbmRQb3B1cChwb3B1cF9kYWQ0Mzg1MTRjNGI0YTJjODg4YzUxMmEwNmRhYzY3Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mN2VmMzFmOTUwMWU0NTlmYWZlZjNkYzQ4NzA5NTY4ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyMzc5MDkzOTEyNDI3LC03My45ODgxMDMzMzA4NjQ5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzllNjQ0NzgzNjBiYTQxZGFiMTFjOWY1NjUzNzkyZmVkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAwMThjOGUzZGYwZTQ4MDdhMGExMDI5OTczMTY3MjlmID0gJCgnPGRpdiBpZD0iaHRtbF8wMDE4YzhlM2RmMGU0ODA3YTBhMTAyOTk3MzE2NzI5ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGl0dGxlIEdpbyYjMzk7cyBQaXp6YTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWU2NDQ3ODM2MGJhNDFkYWIxMWM5ZjU2NTM3OTJmZWQuc2V0Q29udGVudChodG1sXzAwMThjOGUzZGYwZTQ4MDdhMGExMDI5OTczMTY3MjlmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y3ZWYzMWY5NTAxZTQ1OWZhZmVmM2RjNDg3MDk1NjhlLmJpbmRQb3B1cChwb3B1cF85ZTY0NDc4MzYwYmE0MWRhYjExYzlmNTY1Mzc5MmZlZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83Yzc3ZTUwMWJjNWQ0ODQ0YTM0NGYxY2QyMmFlOWU5NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyODc3MiwtNzQuMDAwMTk2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNlOTVmZjUzNmQxNjQ3YjJiM2I0ZmFlMzNmN2YzMjE2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I5N2Q1MTFhMDcyNjRhYWU4MTUxN2UwZjhjN2I5MmE0ID0gJCgnPGRpdiBpZD0iaHRtbF9iOTdkNTExYTA3MjY0YWFlODE1MTdlMGY4YzdiOTJhNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmlvcmUmIzM5O3MgUGl6emE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNlOTVmZjUzNmQxNjQ3YjJiM2I0ZmFlMzNmN2YzMjE2LnNldENvbnRlbnQoaHRtbF9iOTdkNTExYTA3MjY0YWFlODE1MTdlMGY4YzdiOTJhNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83Yzc3ZTUwMWJjNWQ0ODQ0YTM0NGYxY2QyMmFlOWU5Ni5iaW5kUG9wdXAocG9wdXBfM2U5NWZmNTM2ZDE2NDdiMmIzYjRmYWUzM2Y3ZjMyMTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjZlZTNjMzQzYjAxNDU5ODgyZDEyZDIyYzI2MWU1ZTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjkyNSwtNzMuOTg5ODI4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU1NTViMDRkMTJjMDQ0ZDM5ODFiM2Y2ZjNkMGEzMDU3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RkMWMwODQ4ZWU0ZjRiNTc4ZjhmNzEwZjBiMmYxODIyID0gJCgnPGRpdiBpZD0iaHRtbF9kZDFjMDg0OGVlNGY0YjU3OGY4ZjcxMGYwYjJmMTgyMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmF5JiMzOTtzIFBpenphPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81NTU1YjA0ZDEyYzA0NGQzOTgxYjNmNmYzZDBhMzA1Ny5zZXRDb250ZW50KGh0bWxfZGQxYzA4NDhlZTRmNGI1NzhmOGY3MTBmMGIyZjE4MjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjZlZTNjMzQzYjAxNDU5ODgyZDEyZDIyYzI2MWU1ZTMuYmluZFBvcHVwKHBvcHVwXzU1NTViMDRkMTJjMDQ0ZDM5ODFiM2Y2ZjNkMGEzMDU3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI3YjIzMjUwMTllYjQ4MTc5ZDRhOWE5MjgwY2MzNjdhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzMyMDI4LC03My45ODM5MjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDc5MjA2YjYyY2RmNGQ1Y2EzY2NjYmMzNGU4Y2I3ODkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjA0NWYzNDM3NzJlNGYxY2JlZWNmNjE4NjEyNzUyMzMgPSAkKCc8ZGl2IGlkPSJodG1sX2IwNDVmMzQzNzcyZTRmMWNiZWVjZjYxODYxMjc1MjMzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BcnRpY2hva2UgQmFzaWxsZeKAmXMgUGl6emE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q3OTIwNmI2MmNkZjRkNWNhM2NjY2JjMzRlOGNiNzg5LnNldENvbnRlbnQoaHRtbF9iMDQ1ZjM0Mzc3MmU0ZjFjYmVlY2Y2MTg2MTI3NTIzMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yN2IyMzI1MDE5ZWI0ODE3OWQ0YTlhOTI4MGNjMzY3YS5iaW5kUG9wdXAocG9wdXBfZDc5MjA2YjYyY2RmNGQ1Y2EzY2NjYmMzNGU4Y2I3ODkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGNkMTE1MWJiMjU5NDIyNmFkNjdmNTIyMTI2ZWY2YTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjIwNjMxMzA2NzY4MywtNzMuOTk2NTM1NTM5NjI3MDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWY2NWEyYTdhYTAzNDk0ZWFmODZiODEzMTM5OWZhZWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzZjZDlhZTg4ZTExNDYwNzlkNmQyMTQxNGRmMmE3MzEgPSAkKCc8ZGl2IGlkPSJodG1sXzM2Y2Q5YWU4OGUxMTQ2MDc5ZDZkMjE0MTRkZjJhNzMxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY290dCYjMzk7cyBQaXp6YSBUb3VycyAtIE5ZQyBQaXp6YSBXYWxrL0J1cyBUb3VyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ZjY1YTJhN2FhMDM0OTRlYWY4NmI4MTMxMzk5ZmFlYi5zZXRDb250ZW50KGh0bWxfMzZjZDlhZTg4ZTExNDYwNzlkNmQyMTQxNGRmMmE3MzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGNkMTE1MWJiMjU5NDIyNmFkNjdmNTIyMTI2ZWY2YTguYmluZFBvcHVwKHBvcHVwXzVmNjVhMmE3YWEwMzQ5NGVhZjg2YjgxMzEzOTlmYWViKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE1NTEzZjhiOTg3MzQzZWNhNmQyOTJkNzkyZmU0ZWU4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzI5MjI0MzAzNjA3MDUsLTczLjk5MjAzODgxNjIxMzYxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkxNDQxMWU2ZTJlMjRjNTc5ZTE1M2MxMWVlOWI2ZjkyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JlOWRiZWIxN2E5NjQ5NTlhNmFhMjQ4Y2U5N2IxMmZkID0gJCgnPGRpdiBpZD0iaHRtbF9iZTlkYmViMTdhOTY0OTU5YTZhYTI0OGNlOTdiMTJmZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TmVzdG8mIzM5O3MgUGl6emEgJmFtcDsgRGVsaTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTE0NDExZTZlMmUyNGM1NzllMTUzYzExZWU5YjZmOTIuc2V0Q29udGVudChodG1sX2JlOWRiZWIxN2E5NjQ5NTlhNmFhMjQ4Y2U5N2IxMmZkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzE1NTEzZjhiOTg3MzQzZWNhNmQyOTJkNzkyZmU0ZWU4LmJpbmRQb3B1cChwb3B1cF85MTQ0MTFlNmUyZTI0YzU3OWUxNTNjMTFlZTliNmY5Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80MDRmYmM2NDgxMGI0NDA0OTE2NzJkYzhjOTE5OTZmZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyNDI1NjExMDAzMTU2LC03My45ODgxNDIyNzA5MjUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85MGFkZjY4YzhjNGM0MmM3OGY5NmZhZjZhMDUzNmM2YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wN2M2YTdiOTVkNTg0YmExODU5ZmNjMzkxYjkzZTYxNiA9ICQoJzxkaXYgaWQ9Imh0bWxfMDdjNmE3Yjk1ZDU4NGJhMTg1OWZjYzM5MWI5M2U2MTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0YXJzIFBpenphPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85MGFkZjY4YzhjNGM0MmM3OGY5NmZhZjZhMDUzNmM2Yi5zZXRDb250ZW50KGh0bWxfMDdjNmE3Yjk1ZDU4NGJhMTg1OWZjYzM5MWI5M2U2MTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDA0ZmJjNjQ4MTBiNDQwNDkxNjcyZGM4YzkxOTk2ZmYuYmluZFBvcHVwKHBvcHVwXzkwYWRmNjhjOGM0YzQyYzc4Zjk2ZmFmNmEwNTM2YzZiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI4ZDY1ZDMzNDRlNjQ4YjY4Y2Q3ZTc2MWIwMTYyNzA3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzM0NzI2MTU5Mjk3MTk2LC03My45OTIwOTA2NzMzMzg5Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lOTc3ZTZjNzRmYWM0ZTNmOWE5ZGRmZjQ5NDcxMmIyYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNjU1ZjNiM2RiNGU0OWMwODc3YzAxNGI3NjAxOGM4YiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTY1NWYzYjNkYjRlNDljMDg3N2MwMTRiNzYwMThjOGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxpdHRsZSBJdGFseSBQaXp6YSBJSUk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U5NzdlNmM3NGZhYzRlM2Y5YTlkZGZmNDk0NzEyYjJhLnNldENvbnRlbnQoaHRtbF9lNjU1ZjNiM2RiNGU0OWMwODc3YzAxNGI3NjAxOGM4Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yOGQ2NWQzMzQ0ZTY0OGI2OGNkN2U3NjFiMDE2MjcwNy5iaW5kUG9wdXAocG9wdXBfZTk3N2U2Yzc0ZmFjNGUzZjlhOWRkZmY0OTQ3MTJiMmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTkwOGFiMjUxMTdkNDA1Y2EyMmFmMWQyMDdkMGRhNWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjM5NDA4NDMwMDYyNiwtNzMuOTg3OTQxNDA2MDg3NDNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWMyOWYyODUyNDI0NDkxYWEwMmRlNTY2N2Q1MjY0MTQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfM2ZhN2YxOTIzMzQzNDVlMTg5MjAxMzkzMGEwMzUyNWYgPSAkKCc8ZGl2IGlkPSJodG1sXzNmYTdmMTkyMzM0MzQ1ZTE4OTIwMTM5MzBhMDM1MjVmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5WaWxsYWdlIFJlc3RhdXJhbnQgJmFtcDsgUGl6emE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzljMjlmMjg1MjQyNDQ5MWFhMDJkZTU2NjdkNTI2NDE0LnNldENvbnRlbnQoaHRtbF8zZmE3ZjE5MjMzNDM0NWUxODkyMDEzOTMwYTAzNTI1Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85OTA4YWIyNTExN2Q0MDVjYTIyYWYxZDIwN2QwZGE1ZC5iaW5kUG9wdXAocG9wdXBfOWMyOWYyODUyNDI0NDkxYWEwMmRlNTY2N2Q1MjY0MTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGIyZTgzOTNiYTY2NDZmMzhiZDI2Yzg3NzRkMDEyN2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjI2MDksLTczLjk4ODQxNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81ZTFkNGIxYmNkMWE0YWUxOWVkOWRiNTI1ZDFjYTJlNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yMzc0Yzk2MzlkNTI0OTE2YmExM2E1N2E2NmQ2MmE4YyA9ICQoJzxkaXYgaWQ9Imh0bWxfMjM3NGM5NjM5ZDUyNDkxNmJhMTNhNTdhNjZkNjJhOGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjk5wqIgRnJlc2ggUGl6emE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzVlMWQ0YjFiY2QxYTRhZTE5ZWQ5ZGI1MjVkMWNhMmU0LnNldENvbnRlbnQoaHRtbF8yMzc0Yzk2MzlkNTI0OTE2YmExM2E1N2E2NmQ2MmE4Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80YjJlODM5M2JhNjY0NmYzOGJkMjZjODc3NGQwMTI3ZS5iaW5kUG9wdXAocG9wdXBfNWUxZDRiMWJjZDFhNGFlMTllZDlkYjUyNWQxY2EyZTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWRiOWQzYzY4YjQ5NGNjMDljZDliODE0M2Y5ZjIxNTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjA4NTgzNTI4NjMwMDQsLTczLjk5NzUxNTM0Njg0MDY2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZhN2I0ZDgzM2EyMDQyMTQ4ODBiZjI2NjI5NTE1N2VhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MzMDhmZDIyM2VlNDQwNTA4MTM0YzczZTE0MWI3ZDY5ID0gJCgnPGRpdiBpZD0iaHRtbF9jMzA4ZmQyMjNlZTQ0MDUwODEzNGM3M2UxNDFiN2Q2OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R3JvY2VyeSBEZWxpLVBpenphPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mYTdiNGQ4MzNhMjA0MjE0ODgwYmYyNjYyOTUxNTdlYS5zZXRDb250ZW50KGh0bWxfYzMwOGZkMjIzZWU0NDA1MDgxMzRjNzNlMTQxYjdkNjkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWRiOWQzYzY4YjQ5NGNjMDljZDliODE0M2Y5ZjIxNTMuYmluZFBvcHVwKHBvcHVwX2ZhN2I0ZDgzM2EyMDQyMTQ4ODBiZjI2NjI5NTE1N2VhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE2MDIzZDcyZmI0NDQ2Y2U5ZDlkZTUzY2VkNWUyY2YzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzE5MjUzOTY4NjgwNCwtNzMuOTg5NTYxOTkzNjgyODZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTc3ZDNkMmM2YmExNDkxY2JhNTg3ZWI2MTk1MjFlY2IgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDA4NjU0ZWQ4ODJlNGJlNzk1Y2VmNTliZWM4NTI1NDggPSAkKCc8ZGl2IGlkPSJodG1sXzQwODY1NGVkODgyZTRiZTc5NWNlZjU5YmVjODUyNTQ4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BS0EgOTnCoiBGcmVzaCBQaXp6YTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTc3ZDNkMmM2YmExNDkxY2JhNTg3ZWI2MTk1MjFlY2Iuc2V0Q29udGVudChodG1sXzQwODY1NGVkODgyZTRiZTc5NWNlZjU5YmVjODUyNTQ4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzE2MDIzZDcyZmI0NDQ2Y2U5ZDlkZTUzY2VkNWUyY2YzLmJpbmRQb3B1cChwb3B1cF85NzdkM2QyYzZiYTE0OTFjYmE1ODdlYjYxOTUyMWVjYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNzA2YWIyNGY5YTc0MjMyYmQyMjEwMjgzZWEwMGFmYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyNzI1MTMxODcxNzM1LC03NC4wMDU0OTg3ODY4NjkyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xZGFjZjNiNzlhZWU0ODgwYWY3ODM3M2Q1N2JkNTYxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZjIzZjM4M2I2M2M0NDZjOTYxNTdiMjU2ZmE1NzIyYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZTk2ZGI1YWYwYTY0ZDA3YTk5MDQ5YjhhMWNlYzVlYiA9ICQoJzxkaXYgaWQ9Imh0bWxfYWU5NmRiNWFmMGE2NGQwN2E5OTA0OWI4YTFjZWM1ZWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxpdHRsZSBJdGFseSBQaXp6YSBEZWxpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZjIzZjM4M2I2M2M0NDZjOTYxNTdiMjU2ZmE1NzIyYS5zZXRDb250ZW50KGh0bWxfYWU5NmRiNWFmMGE2NGQwN2E5OTA0OWI4YTFjZWM1ZWIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjcwNmFiMjRmOWE3NDIzMmJkMjIxMDI4M2VhMDBhZmIuYmluZFBvcHVwKHBvcHVwXzdmMjNmMzgzYjYzYzQ0NmM5NjE1N2IyNTZmYTU3MjJhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2QxZmE4YTNlMGE5YjQzMWJhYzMxODQ0N2U0MDMyNDEwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzIyNDI0NTYyMDk2NDgsLTczLjk4MzE0NTY0MTY4NDE1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzFkYWNmM2I3OWFlZTQ4ODBhZjc4MzczZDU3YmQ1NjFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q1NDNjNTk4N2I0YzRmOTBiZmUzNjc4ZGRjMDZkODU3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzEzYjQzM2FhMTYyZTQyYWJhYjIyZDQ1MjAyOWUzYjg1ID0gJCgnPGRpdiBpZD0iaHRtbF8xM2I0MzNhYTE2MmU0MmFiYWIyMmQ0NTIwMjllM2I4NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U29sbyBQaXp6YSBOWUM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q1NDNjNTk4N2I0YzRmOTBiZmUzNjc4ZGRjMDZkODU3LnNldENvbnRlbnQoaHRtbF8xM2I0MzNhYTE2MmU0MmFiYWIyMmQ0NTIwMjllM2I4NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kMWZhOGEzZTBhOWI0MzFiYWMzMTg0NDdlNDAzMjQxMC5iaW5kUG9wdXAocG9wdXBfZDU0M2M1OTg3YjRjNGY5MGJmZTM2NzhkZGMwNmQ4NTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNWE4Y2E1YmE1NjIzNGE3MDgwMmYyNzcwMDRjMjY0NTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjU3ODgxMTY0NTUwOCwtNzMuOTgzNTUxMDI1MzkwNjJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMWRhY2YzYjc5YWVlNDg4MGFmNzgzNzNkNTdiZDU2MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzgwMTc2OWRiMzU3NDg0NGFhODM5N2E2OTk0OTI2NTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTZiMDIxZmQyNTBhNGIyNGFiZTg1ZTUxMzM3NzJkZTQgPSAkKCc8ZGl2IGlkPSJodG1sX2E2YjAyMWZkMjUwYTRiMjRhYmU4NWU1MTMzNzcyZGU0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QaXp6YSBTaG9wIExhPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ODAxNzY5ZGIzNTc0ODQ0YWE4Mzk3YTY5OTQ5MjY1MC5zZXRDb250ZW50KGh0bWxfYTZiMDIxZmQyNTBhNGIyNGFiZTg1ZTUxMzM3NzJkZTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWE4Y2E1YmE1NjIzNGE3MDgwMmYyNzcwMDRjMjY0NTkuYmluZFBvcHVwKHBvcHVwXzc4MDE3NjlkYjM1NzQ4NDRhYTgzOTdhNjk5NDkyNjUwKTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4= onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
                    },
                    "metadata": {}
                }
            ]
        },
        {
            "metadata": {},
            "cell_type": "markdown",
            "source": "### Use K-means to Cluster them"
        },
        {
            "metadata": {},
            "cell_type": "code",
            "source": "manhattan_grouped = dataframe_filtered.groupby('name').mean().reset_index()\nmanhattan_grouped_clustering = manhattan_grouped.drop('name', 1)",
            "execution_count": 31,
            "outputs": []
        },
        {
            "metadata": {},
            "cell_type": "code",
            "source": "\n# set number of clusters\nkclusters = 3\n\n#manhattan_grouped_clustering = manhattan_grouped.drop('Neighborhood', 1)\n\n# run k-means clustering\nkmeans = KMeans(n_clusters=kclusters, random_state=0).fit(manhattan_grouped_clustering)\n\n# check cluster labels generated for each row in the dataframe\nkmeans.labels_[0:10] \nmanhattan_grouped_clustering.insert(0, 'Cluster Labels', kmeans.labels_)\nmanhattan_grouped_clustering",
            "execution_count": 32,
            "outputs": [
                {
                    "output_type": "execute_result",
                    "execution_count": 32,
                    "data": {
                        "text/plain": "    Cluster Labels        lat        lng  distance\n0                1  40.728905 -73.988324     590.0\n1                1  40.724492 -73.988877     451.5\n2                2  40.719254 -73.989562     760.0\n3                2  40.729879 -74.000600     777.0\n4                0  40.732028 -73.983921    1099.0\n5                0  40.732268 -74.003589    1142.0\n6                0  40.734198 -73.989269    1046.0\n7                1  40.721638 -73.997470     531.0\n8                2  40.728272 -73.985006     789.0\n9                2  40.724840 -74.002551     761.0\n10               2  40.728772 -74.000196     675.0\n11               1  40.720858 -73.997515     603.0\n12               2  40.730461 -74.001972     908.0\n13               1  40.723791 -73.988103     492.0\n14               0  40.727251 -74.005499    1029.0\n15               0  40.734726 -73.992091    1048.0\n16               1  40.721636 -73.995635     451.0\n17               1  40.729224 -73.992039     447.0\n18               2  40.729292 -74.001351     789.0\n19               1  40.730050 -73.993999     521.0\n20               2  40.725788 -73.983551     845.0\n21               1  40.723093 -73.994527     267.0\n22               1  40.729250 -73.989828     533.0\n23               1  40.722063 -73.996536     446.0\n24               0  40.722425 -73.983146     937.0\n25               1  40.724256 -73.988142     473.0\n26               2  40.727691 -73.985305     742.0\n27               0  40.735398 -73.992790    1117.0\n28               1  40.723941 -73.987941     499.0",
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Cluster Labels</th>\n      <th>lat</th>\n      <th>lng</th>\n      <th>distance</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1</td>\n      <td>40.728905</td>\n      <td>-73.988324</td>\n      <td>590.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1</td>\n      <td>40.724492</td>\n      <td>-73.988877</td>\n      <td>451.5</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2</td>\n      <td>40.719254</td>\n      <td>-73.989562</td>\n      <td>760.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2</td>\n      <td>40.729879</td>\n      <td>-74.000600</td>\n      <td>777.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>0</td>\n      <td>40.732028</td>\n      <td>-73.983921</td>\n      <td>1099.0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>0</td>\n      <td>40.732268</td>\n      <td>-74.003589</td>\n      <td>1142.0</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>0</td>\n      <td>40.734198</td>\n      <td>-73.989269</td>\n      <td>1046.0</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>1</td>\n      <td>40.721638</td>\n      <td>-73.997470</td>\n      <td>531.0</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>2</td>\n      <td>40.728272</td>\n      <td>-73.985006</td>\n      <td>789.0</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>2</td>\n      <td>40.724840</td>\n      <td>-74.002551</td>\n      <td>761.0</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>2</td>\n      <td>40.728772</td>\n      <td>-74.000196</td>\n      <td>675.0</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>1</td>\n      <td>40.720858</td>\n      <td>-73.997515</td>\n      <td>603.0</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>2</td>\n      <td>40.730461</td>\n      <td>-74.001972</td>\n      <td>908.0</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>1</td>\n      <td>40.723791</td>\n      <td>-73.988103</td>\n      <td>492.0</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>0</td>\n      <td>40.727251</td>\n      <td>-74.005499</td>\n      <td>1029.0</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>0</td>\n      <td>40.734726</td>\n      <td>-73.992091</td>\n      <td>1048.0</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>1</td>\n      <td>40.721636</td>\n      <td>-73.995635</td>\n      <td>451.0</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>1</td>\n      <td>40.729224</td>\n      <td>-73.992039</td>\n      <td>447.0</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>2</td>\n      <td>40.729292</td>\n      <td>-74.001351</td>\n      <td>789.0</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>1</td>\n      <td>40.730050</td>\n      <td>-73.993999</td>\n      <td>521.0</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>2</td>\n      <td>40.725788</td>\n      <td>-73.983551</td>\n      <td>845.0</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>1</td>\n      <td>40.723093</td>\n      <td>-73.994527</td>\n      <td>267.0</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>1</td>\n      <td>40.729250</td>\n      <td>-73.989828</td>\n      <td>533.0</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>1</td>\n      <td>40.722063</td>\n      <td>-73.996536</td>\n      <td>446.0</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>0</td>\n      <td>40.722425</td>\n      <td>-73.983146</td>\n      <td>937.0</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>1</td>\n      <td>40.724256</td>\n      <td>-73.988142</td>\n      <td>473.0</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>2</td>\n      <td>40.727691</td>\n      <td>-73.985305</td>\n      <td>742.0</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>0</td>\n      <td>40.735398</td>\n      <td>-73.992790</td>\n      <td>1117.0</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>1</td>\n      <td>40.723941</td>\n      <td>-73.987941</td>\n      <td>499.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>"
                    },
                    "metadata": {}
                }
            ]
        },
        {
            "metadata": {},
            "cell_type": "code",
            "source": "map_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)\n\n# set color scheme for the clusters\nx = np.arange(kclusters)\nys = [i + x + (i*x)**2 for i in range(kclusters)]\ncolors_array = cm.rainbow(np.linspace(0, 1, len(ys)))\nrainbow = [colors.rgb2hex(i) for i in colors_array]\n\n# add markers to the map\nmarkers_colors = []\nfor lat, lon, poi, cluster in zip(manhattan_grouped['lat'], manhattan_grouped['lng'], manhattan_grouped['name'], manhattan_grouped_clustering['Cluster Labels']):\n    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)\n    folium.CircleMarker(\n        [lat, lon],\n        radius=5,\n        popup=label,\n        color=rainbow[cluster-1],\n        fill=True,\n        fill_color=rainbow[cluster-1],\n        fill_opacity=0.7).add_to(map_clusters)\n       \nmap_clusters",
            "execution_count": 33,
            "outputs": [
                {
                    "output_type": "execute_result",
                    "execution_count": 33,
                    "data": {
                        "text/plain": "<folium.folium.Map at 0x7f505b382f10>",
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfYzU0NDk1MGI3YTgwNDhhYjhmYmE3MzNiODUzNjk1OTMgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5MyA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5MycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDAuNzI1Mzc2NDUyMDk0NTcsLTczLjk5MzU1NDM3ODA4NTZdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyX2Y1YmVmOGRhZGViNjRjMzU5NmUyYzYyYzY2NDI1NzFkID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83MzA4YjFkZjQ5MTQ0MzY2OTg3YWQ2NTM2NGJiOTY5NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyODkwNTI0MTMyMzM4LC03My45ODgzMjQwMTc3NzE1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA1MTdkNzg4ODg4MzRmMjhiYzg5ZThmNTY4YTQ3NWM3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q5ZGZkYzlhMmM1ZjQ1ZjI5MTViYmRjNzFhNTQyZTY0ID0gJCgnPGRpdiBpZD0iaHRtbF9kOWRmZGM5YTJjNWY0NWYyOTE1YmJkYzcxYTU0MmU2NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+MiBCcm9zLiBQaXp6YSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA1MTdkNzg4ODg4MzRmMjhiYzg5ZThmNTY4YTQ3NWM3LnNldENvbnRlbnQoaHRtbF9kOWRmZGM5YTJjNWY0NWYyOTE1YmJkYzcxYTU0MmU2NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MzA4YjFkZjQ5MTQ0MzY2OTg3YWQ2NTM2NGJiOTY5NS5iaW5kUG9wdXAocG9wdXBfMDUxN2Q3ODg4ODgzNGYyOGJjODllOGY1NjhhNDc1YzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDYwNWZmYmI2NTRlNGI1OWEzOTlmZDFmYWRlMDQ0ODIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjQ0OTIzNjg3MjgzMywtNzMuOTg4ODc3MDIxODE3ODRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzU0NDk1MGI3YTgwNDhhYjhmYmE3MzNiODUzNjk1OTMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzdhYzg3OTcwNWIzNGQ0N2FkMzBiZTk1ZmRkNzcxYzQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGE4NjVjNTEyMGFmNDUxOWE0MWMyMDA5MTU5MTc4NDIgPSAkKCc8ZGl2IGlkPSJodG1sXzhhODY1YzUxMjBhZjQ1MTlhNDFjMjAwOTE1OTE3ODQyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij45OcKiIEZyZXNoIFBpenphIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzdhYzg3OTcwNWIzNGQ0N2FkMzBiZTk1ZmRkNzcxYzQuc2V0Q29udGVudChodG1sXzhhODY1YzUxMjBhZjQ1MTlhNDFjMjAwOTE1OTE3ODQyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA2MDVmZmJiNjU0ZTRiNTlhMzk5ZmQxZmFkZTA0NDgyLmJpbmRQb3B1cChwb3B1cF8zN2FjODc5NzA1YjM0ZDQ3YWQzMGJlOTVmZGQ3NzFjNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82NGNkYjEyYWNmZmU0OTJkYTA5MTZmNjdhZDljZmFlZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxOTI1Mzk2ODY4MDQsLTczLjk4OTU2MTk5MzY4Mjg2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2MwMzQ3Nzc5MTg3OTRjMWFhMjgyZGFkZTVlNTY3YTBkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I1Mzk0ZDRjNjk2ZTRjNjdhOGUyZWNlOWQzM2Y3MzYzID0gJCgnPGRpdiBpZD0iaHRtbF9iNTM5NGQ0YzY5NmU0YzY3YThlMmVjZTlkMzNmNzM2MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QUtBIDk5wqIgRnJlc2ggUGl6emEgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMDM0Nzc3OTE4Nzk0YzFhYTI4MmRhZGU1ZTU2N2EwZC5zZXRDb250ZW50KGh0bWxfYjUzOTRkNGM2OTZlNGM2N2E4ZTJlY2U5ZDMzZjczNjMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjRjZGIxMmFjZmZlNDkyZGEwOTE2ZjY3YWQ5Y2ZhZWUuYmluZFBvcHVwKHBvcHVwX2MwMzQ3Nzc5MTg3OTRjMWFhMjgyZGFkZTVlNTY3YTBkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2YyMjA5ODU3Y2RkMzQ0MGNhYjk3NDExMDUwM2ZlODUyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzI5ODc5MTM2NTIwMjQ2LC03NC4wMDA1OTk3Nzc2MTUyMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xMWJlZTY2ZTc0OGI0Y2FhYTYwODVlZGI4ZTJjMGE0ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYjllOGU3NGZlNTc0NzJmYmZlMmQzYzAzZTBlYTIzMiA9ICQoJzxkaXYgaWQ9Imh0bWxfZGI5ZThlNzRmZTU3NDcyZmJmZTJkM2MwM2UwZWEyMzIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFydGljaG9rZSBCYXNpbGxlJiMzOTtzIFBpenphICZhbXA7IEJyZXdlcnkgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMWJlZTY2ZTc0OGI0Y2FhYTYwODVlZGI4ZTJjMGE0ZC5zZXRDb250ZW50KGh0bWxfZGI5ZThlNzRmZTU3NDcyZmJmZTJkM2MwM2UwZWEyMzIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjIyMDk4NTdjZGQzNDQwY2FiOTc0MTEwNTAzZmU4NTIuYmluZFBvcHVwKHBvcHVwXzExYmVlNjZlNzQ4YjRjYWFhNjA4NWVkYjhlMmMwYTRkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I5ZmEwYWI3MDVmZDQ3ZWViMjQ2NTQ3MmQyMTYyNTkwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzMyMDI4LC03My45ODM5MjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzU0NDk1MGI3YTgwNDhhYjhmYmE3MzNiODUzNjk1OTMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmQ2ZTA1ZTkxZGE2NDEwYTg4ZGRmNDU3YzFkNzJkYmUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjRlOTMzMDc5OGRiNDU4NmJjY2UzNDAwNDAzYmQxZjYgPSAkKCc8ZGl2IGlkPSJodG1sXzI0ZTkzMzA3OThkYjQ1ODZiY2NlMzQwMDQwM2JkMWY2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BcnRpY2hva2UgQmFzaWxsZeKAmXMgUGl6emEgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mZDZlMDVlOTFkYTY0MTBhODhkZGY0NTdjMWQ3MmRiZS5zZXRDb250ZW50KGh0bWxfMjRlOTMzMDc5OGRiNDU4NmJjY2UzNDAwNDAzYmQxZjYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjlmYTBhYjcwNWZkNDdlZWIyNDY1NDcyZDIxNjI1OTAuYmluZFBvcHVwKHBvcHVwX2ZkNmUwNWU5MWRhNjQxMGE4OGRkZjQ1N2MxZDcyZGJlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y4N2EyM2QzMTc2ODQwN2JhNzQwODMzYzhjZGNhYzBjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzMyMjY3OTM5MjY3MzEsLTc0LjAwMzU4OTEzNzUxNDU0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAxMmYxMDA0ZDljOTRhMTdhMDllMWVkOWRiMmJlZjZlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2QwODI5OTk2YWJlNjRhYWViY2RjZjRhM2U1NzJlZGUxID0gJCgnPGRpdiBpZD0iaHRtbF9kMDgyOTk5NmFiZTY0YWFlYmNkY2Y0YTNlNTcyZWRlMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmxlZWNrZXIgU3RyZWV0IFBpenphIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDEyZjEwMDRkOWM5NGExN2EwOWUxZWQ5ZGIyYmVmNmUuc2V0Q29udGVudChodG1sX2QwODI5OTk2YWJlNjRhYWViY2RjZjRhM2U1NzJlZGUxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y4N2EyM2QzMTc2ODQwN2JhNzQwODMzYzhjZGNhYzBjLmJpbmRQb3B1cChwb3B1cF8wMTJmMTAwNGQ5Yzk0YTE3YTA5ZTFlZDlkYjJiZWY2ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNzUzODI0NzJhMTk0NzRmYTJkNDFkOGNlYWE2ZGFmOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjczNDE5Nzc5NzA4MDU1NCwtNzMuOTg5MjY5MjE1OTQ0OTZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzU0NDk1MGI3YTgwNDhhYjhmYmE3MzNiODUzNjk1OTMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTk1N2IxOGMzNDc4NDRlYzk5NzhmNTRlZjhmNjEzOWEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWYyMDU5NGNiYTA1NDFlMjkwZTczNjg4ZTlhZWMxMDAgPSAkKCc8ZGl2IGlkPSJodG1sXzlmMjA1OTRjYmEwNTQxZTI5MGU3MzY4OGU5YWVjMTAwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CcmF2byBQaXp6YSBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU5NTdiMThjMzQ3ODQ0ZWM5OTc4ZjU0ZWY4ZjYxMzlhLnNldENvbnRlbnQoaHRtbF85ZjIwNTk0Y2JhMDU0MWUyOTBlNzM2ODhlOWFlYzEwMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lNzUzODI0NzJhMTk0NzRmYTJkNDFkOGNlYWE2ZGFmOS5iaW5kUG9wdXAocG9wdXBfNTk1N2IxOGMzNDc4NDRlYzk5NzhmNTRlZjhmNjEzOWEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmYzZGVjMzM2ODMyNGQyODhlNzU1YWU1Y2E0OWQ0YWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjE2Mzc1NDIyNDgxOTYsLTczLjk5NzQ3MDAyMTk1ODE0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NkNzM3YzU0MTc2YjRlODJiZjZlYTgyZWZiMjdkNjgwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ3NDI4NmUyZDcxNDRmOTlhNGY2ZDM1MTU3N2JmNGEyID0gJCgnPGRpdiBpZD0iaHRtbF80NzQyODZlMmQ3MTQ0Zjk5YTRmNmQzNTE1NzdiZjRhMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hhbXBpb24gUGl6emEgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jZDczN2M1NDE3NmI0ZTgyYmY2ZWE4MmVmYjI3ZDY4MC5zZXRDb250ZW50KGh0bWxfNDc0Mjg2ZTJkNzE0NGY5OWE0ZjZkMzUxNTc3YmY0YTIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmYzZGVjMzM2ODMyNGQyODhlNzU1YWU1Y2E0OWQ0YWEuYmluZFBvcHVwKHBvcHVwX2NkNzM3YzU0MTc2YjRlODJiZjZlYTgyZWZiMjdkNjgwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg4OGE4NzJkYzgyZDQ0NzE5YzkxNjgzM2FlMGFkMjYwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzI4MjcyMzU2NDk4OTEsLTczLjk4NTAwNjQwNzcwMzM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZjNGJjYzg0NDk5NzQwNmY5OTRhNDAyN2FiMjdhYzlhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVmMjk0YTYxODQ1OTQ4NzM5ZDc0OWQ1OWEzOTVjNmFkID0gJCgnPGRpdiBpZD0iaHRtbF81ZjI5NGE2MTg0NTk0ODczOWQ3NDlkNTlhMzk1YzZhZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBWaWxsYWdlIFBpenphIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmM0YmNjODQ0OTk3NDA2Zjk5NGE0MDI3YWIyN2FjOWEuc2V0Q29udGVudChodG1sXzVmMjk0YTYxODQ1OTQ4NzM5ZDc0OWQ1OWEzOTVjNmFkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg4OGE4NzJkYzgyZDQ0NzE5YzkxNjgzM2FlMGFkMjYwLmJpbmRQb3B1cChwb3B1cF9mYzRiY2M4NDQ5OTc0MDZmOTk0YTQwMjdhYjI3YWM5YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82MzcwYWJjMTBmYTM0ZTk0OTQzY2RmM2ZhY2YzYWFlNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyNDgzOTUwODQyOTc0NiwtNzQuMDAyNTUwODQwMDU4OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzU0NDk1MGI3YTgwNDhhYjhmYmE3MzNiODUzNjk1OTMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTdmN2E2NjFmMzFiNGZkOWIyYTZjY2UwMGYyNmViNzAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGI1NTEzOGNlMzA1NDQyZTkxMDRjMTJhNjAzZDdjYmQgPSAkKCc8ZGl2IGlkPSJodG1sXzhiNTUxMzhjZTMwNTQ0MmU5MTA0YzEyYTYwM2Q3Y2JkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GYW1vdXMgQmVuJiMzOTtzIFBpenphIG9mIFNvSG8gQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xN2Y3YTY2MWYzMWI0ZmQ5YjJhNmNjZTAwZjI2ZWI3MC5zZXRDb250ZW50KGh0bWxfOGI1NTEzOGNlMzA1NDQyZTkxMDRjMTJhNjAzZDdjYmQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjM3MGFiYzEwZmEzNGU5NDk0M2NkZjNmYWNmM2FhZTUuYmluZFBvcHVwKHBvcHVwXzE3ZjdhNjYxZjMxYjRmZDliMmE2Y2NlMDBmMjZlYjcwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFhMmI4OGM4MGI1YzRkMDY5MmM5MGIyMTc0OTNkZDBmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzI4NzcyLC03NC4wMDAxOTZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzU0NDk1MGI3YTgwNDhhYjhmYmE3MzNiODUzNjk1OTMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWQ1MGZlY2M4NWFhNDQ5ZDg4N2RjZDljY2Y5M2VjNDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTZhMDg5NTNhY2VlNDc0ZTgyZmVmMjc5NjNjYTY4ZmMgPSAkKCc8ZGl2IGlkPSJodG1sXzE2YTA4OTUzYWNlZTQ3NGU4MmZlZjI3OTYzY2E2OGZjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GaW9yZSYjMzk7cyBQaXp6YSBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFkNTBmZWNjODVhYTQ0OWQ4ODdkY2Q5Y2NmOTNlYzQ0LnNldENvbnRlbnQoaHRtbF8xNmEwODk1M2FjZWU0NzRlODJmZWYyNzk2M2NhNjhmYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xYTJiODhjODBiNWM0ZDA2OTJjOTBiMjE3NDkzZGQwZi5iaW5kUG9wdXAocG9wdXBfMWQ1MGZlY2M4NWFhNDQ5ZDg4N2RjZDljY2Y5M2VjNDQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzA5MzBkZjRkM2E5NGViOTljNjA2NTM0NDcxYjg5ZmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjA4NTgzNTI4NjMwMDQsLTczLjk5NzUxNTM0Njg0MDY2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZkNGIxMzVjMmEwMTRiODRhZGYzYWMwZmQ1YjZlYTExID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U1NDg0ZmRkNmQ4NTQ4NTI4NTMwNzBhYmE5ZmM1OGUyID0gJCgnPGRpdiBpZD0iaHRtbF9lNTQ4NGZkZDZkODU0ODUyODUzMDcwYWJhOWZjNThlMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R3JvY2VyeSBEZWxpLVBpenphIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmQ0YjEzNWMyYTAxNGI4NGFkZjNhYzBmZDViNmVhMTEuc2V0Q29udGVudChodG1sX2U1NDg0ZmRkNmQ4NTQ4NTI4NTMwNzBhYmE5ZmM1OGUyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzcwOTMwZGY0ZDNhOTRlYjk5YzYwNjUzNDQ3MWI4OWZkLmJpbmRQb3B1cChwb3B1cF9mZDRiMTM1YzJhMDE0Yjg0YWRmM2FjMGZkNWI2ZWExMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83NmRjNTA1Y2E5NzM0ZTI4OGEwZDQzZjliMGI1NzRjMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjczMDQ2MTExNTE5OTQ5LC03NC4wMDE5NzIyNjE1NTA5Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yNDU5MTJkZWY1YjY0OTAwYTM1MWU5M2JkYzk3MDc5NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYzJkNmIxZDdkOTQ0ODYyOTEyZWJkNDU0NGNhYjNiNCA9ICQoJzxkaXYgaWQ9Imh0bWxfZGMyZDZiMWQ3ZDk0NDg2MjkxMmViZDQ1NDRjYWIzYjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkpvZSYjMzk7cyBQaXp6YSBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI0NTkxMmRlZjViNjQ5MDBhMzUxZTkzYmRjOTcwNzk1LnNldENvbnRlbnQoaHRtbF9kYzJkNmIxZDdkOTQ0ODYyOTEyZWJkNDU0NGNhYjNiNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83NmRjNTA1Y2E5NzM0ZTI4OGEwZDQzZjliMGI1NzRjMC5iaW5kUG9wdXAocG9wdXBfMjQ1OTEyZGVmNWI2NDkwMGEzNTFlOTNiZGM5NzA3OTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODUzYTU1M2VjY2FkNGE4MGE0ZWE1NzEyNDU3M2EwOGYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjM3OTA5MzkxMjQyNywtNzMuOTg4MTAzMzMwODY0OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xNDI5ZjQwNTVlNjM0Y2YwOTIzMzVjNjEyMTAzNjM1YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNjlkMjA0YWU0YWQ0NjJiODFiMzg2NWJhM2MxZjVkNSA9ICQoJzxkaXYgaWQ9Imh0bWxfZTY5ZDIwNGFlNGFkNDYyYjgxYjM4NjViYTNjMWY1ZDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxpdHRsZSBHaW8mIzM5O3MgUGl6emEgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNDI5ZjQwNTVlNjM0Y2YwOTIzMzVjNjEyMTAzNjM1Yi5zZXRDb250ZW50KGh0bWxfZTY5ZDIwNGFlNGFkNDYyYjgxYjM4NjViYTNjMWY1ZDUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODUzYTU1M2VjY2FkNGE4MGE0ZWE1NzEyNDU3M2EwOGYuYmluZFBvcHVwKHBvcHVwXzE0MjlmNDA1NWU2MzRjZjA5MjMzNWM2MTIxMDM2MzViKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk2ZDY5OGE5OTcyMDQyNDdiMWY1YzljM2ViYzFhZTliID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzI3MjUxMzE4NzE3MzUsLTc0LjAwNTQ5ODc4Njg2OTI1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg3Nzk1YTJhNTUwNTRlYjk5NDVjNDliZjA2OWU2ZmZhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M0MWMzMWQwNWM3OTQwZWQ5M2VmYWVhZDA1YWUzZWYyID0gJCgnPGRpdiBpZD0iaHRtbF9jNDFjMzFkMDVjNzk0MGVkOTNlZmFlYWQwNWFlM2VmMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGl0dGxlIEl0YWx5IFBpenphIERlbGkgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84Nzc5NWEyYTU1MDU0ZWI5OTQ1YzQ5YmYwNjllNmZmYS5zZXRDb250ZW50KGh0bWxfYzQxYzMxZDA1Yzc5NDBlZDkzZWZhZWFkMDVhZTNlZjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTZkNjk4YTk5NzIwNDI0N2IxZjVjOWMzZWJjMWFlOWIuYmluZFBvcHVwKHBvcHVwXzg3Nzk1YTJhNTUwNTRlYjk5NDVjNDliZjA2OWU2ZmZhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I5MGRhZGI5MGE4YTQzNGE5MGEzYzJlMjUzMzFkNDQyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzM0NzI2MTU5Mjk3MTk2LC03My45OTIwOTA2NzMzMzg5Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZTMyZmFkYzA1NTE0MmEwOWZjOTlmNGU4ZDc5ODk3YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84ZWM2NmVlODBkNmI0ZDNmODY2MmNlYjUxYWU2MTUzNiA9ICQoJzxkaXYgaWQ9Imh0bWxfOGVjNjZlZTgwZDZiNGQzZjg2NjJjZWI1MWFlNjE1MzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxpdHRsZSBJdGFseSBQaXp6YSBJSUkgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZTMyZmFkYzA1NTE0MmEwOWZjOTlmNGU4ZDc5ODk3YS5zZXRDb250ZW50KGh0bWxfOGVjNjZlZTgwZDZiNGQzZjg2NjJjZWI1MWFlNjE1MzYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjkwZGFkYjkwYThhNDM0YTkwYTNjMmUyNTMzMWQ0NDIuYmluZFBvcHVwKHBvcHVwXzFlMzJmYWRjMDU1MTQyYTA5ZmM5OWY0ZThkNzk4OTdhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEyM2FkMzA3NjcyMjQyMmI4ZTE0ZGQ1ZmE3NjkwNjQ0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzIxNjM2MjU0NDMwODA1LC03My45OTU2MzQ5NTMwMjkwNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mNzVhNDJmZTllYmQ0NTk0YmE1ZjE1OTM3YmU4M2FhYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kODg2ZTk2ZjU5OTM0ZjhlYThkMzljODk5MjNmOTc1MSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDg4NmU5NmY1OTkzNGY4ZWE4ZDM5Yzg5OTIzZjk3NTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxvbWJhcmRpJiMzOTtzIENvYWwgT3ZlbiBQaXp6YSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y3NWE0MmZlOWViZDQ1OTRiYTVmMTU5MzdiZTgzYWFjLnNldENvbnRlbnQoaHRtbF9kODg2ZTk2ZjU5OTM0ZjhlYThkMzljODk5MjNmOTc1MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMjNhZDMwNzY3MjI0MjJiOGUxNGRkNWZhNzY5MDY0NC5iaW5kUG9wdXAocG9wdXBfZjc1YTQyZmU5ZWJkNDU5NGJhNWYxNTkzN2JlODNhYWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODQyNGI5YjY3ZjBiNDcwOWJjNWY0N2IzZTEwYmY0MzQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjkyMjQzMDM2MDcwNSwtNzMuOTkyMDM4ODE2MjEzNjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzU0NDk1MGI3YTgwNDhhYjhmYmE3MzNiODUzNjk1OTMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2MzOGYzZmNlOTE2NDQ2MzliNDk2NjYzODUwNjZkZjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzBhYTMzZjViNDAyNDIyMmFjYzNlN2FmM2FiYzFkYTEgPSAkKCc8ZGl2IGlkPSJodG1sXzMwYWEzM2Y1YjQwMjQyMjJhY2MzZTdhZjNhYmMxZGExIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5OZXN0byYjMzk7cyBQaXp6YSAmYW1wOyBEZWxpIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2MzOGYzZmNlOTE2NDQ2MzliNDk2NjYzODUwNjZkZjMuc2V0Q29udGVudChodG1sXzMwYWEzM2Y1YjQwMjQyMjJhY2MzZTdhZjNhYmMxZGExKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg0MjRiOWI2N2YwYjQ3MDliYzVmNDdiM2UxMGJmNDM0LmJpbmRQb3B1cChwb3B1cF9jYzM4ZjNmY2U5MTY0NDYzOWI0OTY2NjM4NTA2NmRmMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83MzUzOTE1ZGQ2MmM0OWZkYmE0NzE3NzJkNTQ5NTYwOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyOTI5MTc2OTMyMjA2LC03NC4wMDEzNTEzOTc2NDkwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84YzAxZjNkOTdjYzU0ZWYzOWNhOGM4ZWVhOGMzYjM2OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83OGNmN2I5MDU0OGQ0YTRjYjNjZTk5NmFjODNmOTZlNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNzhjZjdiOTA1NDhkNGE0Y2IzY2U5OTZhYzgzZjk2ZTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBlcmN5JiMzOTtzIFBpenphIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGMwMWYzZDk3Y2M1NGVmMzljYThjOGVlYThjM2IzNjkuc2V0Q29udGVudChodG1sXzc4Y2Y3YjkwNTQ4ZDRhNGNiM2NlOTk2YWM4M2Y5NmU0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzczNTM5MTVkZDYyYzQ5ZmRiYTQ3MTc3MmQ1NDk1NjA5LmJpbmRQb3B1cChwb3B1cF84YzAxZjNkOTdjYzU0ZWYzOWNhOGM4ZWVhOGMzYjM2OSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85MjYyYTEwNDdjZjU0MTk1YjdmMzcxNmQwMzVjNThkZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjczMDA0OTgyMzY3OTYsLTczLjk5Mzk5ODY2NzI3ODU2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZmYmFjOTBkZjU4ZTQzOGI5NTJjODc4ZjhhOTJhYTQxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzdlNGExNTc5MGFjYjQzM2E5YWVjNTVjZDMyMWMwZTZlID0gJCgnPGRpdiBpZD0iaHRtbF83ZTRhMTU3OTBhY2I0MzNhOWFlYzU1Y2QzMjFjMGU2ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGl6emEgTWVyY2F0byBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZmYmFjOTBkZjU4ZTQzOGI5NTJjODc4ZjhhOTJhYTQxLnNldENvbnRlbnQoaHRtbF83ZTRhMTU3OTBhY2I0MzNhOWFlYzU1Y2QzMjFjMGU2ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85MjYyYTEwNDdjZjU0MTk1YjdmMzcxNmQwMzVjNThkZi5iaW5kUG9wdXAocG9wdXBfZmZiYWM5MGRmNThlNDM4Yjk1MmM4NzhmOGE5MmFhNDEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDQ5NmFiMjM2MzdlNDA1YzhjNDM0ODhmN2FhZDU2YWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjU3ODgxMTY0NTUwOCwtNzMuOTgzNTUxMDI1MzkwNjJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzU0NDk1MGI3YTgwNDhhYjhmYmE3MzNiODUzNjk1OTMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmU5M2U1OGQyYTBiNDgxYjllNGFkOWY0YjU0OWFlZWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGZkNTg3MmNmMzdiNDg5NTkyMDM3NGUyZmUyNjFlZDMgPSAkKCc8ZGl2IGlkPSJodG1sXzRmZDU4NzJjZjM3YjQ4OTU5MjAzNzRlMmZlMjYxZWQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QaXp6YSBTaG9wIExhIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmU5M2U1OGQyYTBiNDgxYjllNGFkOWY0YjU0OWFlZWMuc2V0Q29udGVudChodG1sXzRmZDU4NzJjZjM3YjQ4OTU5MjAzNzRlMmZlMjYxZWQzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ0OTZhYjIzNjM3ZTQwNWM4YzQzNDg4ZjdhYWQ1NmFiLmJpbmRQb3B1cChwb3B1cF8yZTkzZTU4ZDJhMGI0ODFiOWU0YWQ5ZjRiNTQ5YWVlYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yMmI4NzE5NWIwYjg0MTg3OTAyMmQwYjgzMDdlODAyOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyMzA5MzI2MTQ1Njc0LC03My45OTQ1MjcyOTQ0Nzc0NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yZTkxNWE0MjM5NjM0ZDdjYmE0NmM0ZGE4ZGU5MjIzOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85ZjI2NWE4MDk5NDk0YTQwYWNlZTVhZGMzN2NjMjViNSA9ICQoJzxkaXYgaWQ9Imh0bWxfOWYyNjVhODA5OTQ5NGE0MGFjZWU1YWRjMzdjYzI1YjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlByaW5jZSBTdHJlZXQgUGl6emEgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yZTkxNWE0MjM5NjM0ZDdjYmE0NmM0ZGE4ZGU5MjIzOS5zZXRDb250ZW50KGh0bWxfOWYyNjVhODA5OTQ5NGE0MGFjZWU1YWRjMzdjYzI1YjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjJiODcxOTViMGI4NDE4NzkwMjJkMGI4MzA3ZTgwMjguYmluZFBvcHVwKHBvcHVwXzJlOTE1YTQyMzk2MzRkN2NiYTQ2YzRkYThkZTkyMjM5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc1MmJiNWU0OWY5YTQ2Y2FhODY3MWYyNGRkZTNkZDcyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzI5MjUsLTczLjk4OTgyOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ZTExYjVmNjg3NjQ0OTRmYjc3ZjY4ODdiYzI4NmYyNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MGEzNmNhZTEyNjQ0MWZjYjNiMWYzNTdmYmVlMjJlOCA9ICQoJzxkaXYgaWQ9Imh0bWxfODBhMzZjYWUxMjY0NDFmY2IzYjFmMzU3ZmJlZTIyZTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJheSYjMzk7cyBQaXp6YSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRlMTFiNWY2ODc2NDQ5NGZiNzdmNjg4N2JjMjg2ZjI0LnNldENvbnRlbnQoaHRtbF84MGEzNmNhZTEyNjQ0MWZjYjNiMWYzNTdmYmVlMjJlOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83NTJiYjVlNDlmOWE0NmNhYTg2NzFmMjRkZGUzZGQ3Mi5iaW5kUG9wdXAocG9wdXBfNGUxMWI1ZjY4NzY0NDk0ZmI3N2Y2ODg3YmMyODZmMjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWUyNjRkZGQ5NGY3NDFjYjhjYzBkYjdkZjVkNWU4OTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MjIwNjMxMzA2NzY4MywtNzMuOTk2NTM1NTM5NjI3MDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzU0NDk1MGI3YTgwNDhhYjhmYmE3MzNiODUzNjk1OTMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTJiN2UxZjUwMTcwNDdiMjhmY2Y2YWE0NDMwNmY5NWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjdmNzgzNDJhMzUwNDEwZjlhMTkxNThhN2ViM2UyYTYgPSAkKCc8ZGl2IGlkPSJodG1sX2I3Zjc4MzQyYTM1MDQxMGY5YTE5MTU4YTdlYjNlMmE2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY290dCYjMzk7cyBQaXp6YSBUb3VycyAtIE5ZQyBQaXp6YSBXYWxrL0J1cyBUb3VyIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTJiN2UxZjUwMTcwNDdiMjhmY2Y2YWE0NDMwNmY5NWUuc2V0Q29udGVudChodG1sX2I3Zjc4MzQyYTM1MDQxMGY5YTE5MTU4YTdlYjNlMmE2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VlMjY0ZGRkOTRmNzQxY2I4Y2MwZGI3ZGY1ZDVlODk1LmJpbmRQb3B1cChwb3B1cF9hMmI3ZTFmNTAxNzA0N2IyOGZjZjZhYTQ0MzA2Zjk1ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84MjNhMDI1Nzk1YzI0YmRjYjE0MDI0MzRlMDY0YTIxMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyMjQyNDU2MjA5NjQ4LC03My45ODMxNDU2NDE2ODQxNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82NDE1NTVkOGViY2M0NDFkOTA5NDc0NjY3ZWRjYmM0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZWMzOTdlOTUyZTE0ZjYwYmYzMzU4M2FiZDA2MjA5NCA9ICQoJzxkaXYgaWQ9Imh0bWxfZGVjMzk3ZTk1MmUxNGY2MGJmMzM1ODNhYmQwNjIwOTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNvbG8gUGl6emEgTllDIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjQxNTU1ZDhlYmNjNDQxZDkwOTQ3NDY2N2VkY2JjNDMuc2V0Q29udGVudChodG1sX2RlYzM5N2U5NTJlMTRmNjBiZjMzNTgzYWJkMDYyMDk0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzgyM2EwMjU3OTVjMjRiZGNiMTQwMjQzNGUwNjRhMjExLmJpbmRQb3B1cChwb3B1cF82NDE1NTVkOGViY2M0NDFkOTA5NDc0NjY3ZWRjYmM0Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZjQ4N2U3N2ViYjE0NTgyYmM1M2FkMzk5ZmY4YjViMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyNDI1NjExMDAzMTU2LC03My45ODgxNDIyNzA5MjUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYTJiNDE5NzM3YTI0NGRkOTY5YjNkMDFhODJjYmEzZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMGIzYzY1YWViZmI0ZGIxYjQ0ZTQ5NGZiMjk0ZjI4YyA9ICQoJzxkaXYgaWQ9Imh0bWxfMzBiM2M2NWFlYmZiNGRiMWI0NGU0OTRmYjI5NGYyOGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0YXJzIFBpenphIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmEyYjQxOTczN2EyNDRkZDk2OWIzZDAxYTgyY2JhM2Quc2V0Q29udGVudChodG1sXzMwYjNjNjVhZWJmYjRkYjFiNDRlNDk0ZmIyOTRmMjhjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJmNDg3ZTc3ZWJiMTQ1ODJiYzUzYWQzOTlmZjhiNWIxLmJpbmRQb3B1cChwb3B1cF9iYTJiNDE5NzM3YTI0NGRkOTY5YjNkMDFhODJjYmEzZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ZTIwYmQzMDA2YWM0NTcwOTcwNzJhYTJkMTFkOTQ0MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcyNzY5MTQ2NTk3MTUxLC03My45ODUzMDQ3NTU5Mzg3N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zZTA4YTJmOTI4NmM0MTlhOGM5YjhhODc4YmMzMjJmNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYTljNzQ1OWQwNTA0YzU1OTAxMzI3ZTNmODEwZjJiYyA9ICQoJzxkaXYgaWQ9Imh0bWxfZWE5Yzc0NTlkMDUwNGM1NTkwMTMyN2UzZjgxMGYyYmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0cm9tYm9saSBQaXp6YSBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNlMDhhMmY5Mjg2YzQxOWE4YzliOGE4NzhiYzMyMmY0LnNldENvbnRlbnQoaHRtbF9lYTljNzQ1OWQwNTA0YzU1OTAxMzI3ZTNmODEwZjJiYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82ZTIwYmQzMDA2YWM0NTcwOTcwNzJhYTJkMTFkOTQ0My5iaW5kUG9wdXAocG9wdXBfM2UwOGEyZjkyODZjNDE5YThjOWI4YTg3OGJjMzIyZjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjE0NGE2Mjc3MDNmNGJkNjk0ZTZmZWQ0Njc1MGJkZDQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MzUzOTc2NTU3MTE2LC03My45OTI3ODk5MTUzNDQyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jNTQ0OTUwYjdhODA0OGFiOGZiYTczM2I4NTM2OTU5Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xOTNjYWM1Y2I4YTU0Y2RmYTk1MGJkZTEyMzJiODBjMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMmEyMTQ5MTc3NjQ0MGYwOTBkMTVmOGE3YTVjZWExNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMzJhMjE0OTE3NzY0NDBmMDkwZDE1ZjhhN2E1Y2VhMTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRhY28gQmVsbC9QaXp6YSBIdXQgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xOTNjYWM1Y2I4YTU0Y2RmYTk1MGJkZTEyMzJiODBjMy5zZXRDb250ZW50KGh0bWxfMzJhMjE0OTE3NzY0NDBmMDkwZDE1ZjhhN2E1Y2VhMTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjE0NGE2Mjc3MDNmNGJkNjk0ZTZmZWQ0Njc1MGJkZDQuYmluZFBvcHVwKHBvcHVwXzE5M2NhYzVjYjhhNTRjZGZhOTUwYmRlMTIzMmI4MGMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg3NWQ1NThiNmU0YzRmNTNiZGQ0MmIxZWExYjcyNWI3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzIzOTQwODQzMDA2MjYsLTczLjk4Nzk0MTQwNjA4NzQzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2M1NDQ5NTBiN2E4MDQ4YWI4ZmJhNzMzYjg1MzY5NTkzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI1ZjdmODM1ZGM1ODRlOTc5NWIzMWZkNGEyYzM3ZGM4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJkM2JkZDdlZWRiYjQ4MmFiMDc5MDAzY2Q4YmFhYzkyID0gJCgnPGRpdiBpZD0iaHRtbF8yZDNiZGQ3ZWVkYmI0ODJhYjA3OTAwM2NkOGJhYWM5MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmlsbGFnZSBSZXN0YXVyYW50ICZhbXA7IFBpenphIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjVmN2Y4MzVkYzU4NGU5Nzk1YjMxZmQ0YTJjMzdkYzguc2V0Q29udGVudChodG1sXzJkM2JkZDdlZWRiYjQ4MmFiMDc5MDAzY2Q4YmFhYzkyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg3NWQ1NThiNmU0YzRmNTNiZGQ0MmIxZWExYjcyNWI3LmJpbmRQb3B1cChwb3B1cF8yNWY3ZjgzNWRjNTg0ZTk3OTViMzFmZDRhMmMzN2RjOCk7CgogICAgICAgICAgICAKICAgICAgICAKPC9zY3JpcHQ+ onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
                    },
                    "metadata": {}
                }
            ]
        }
    ],
    "metadata": {
        "kernelspec": {
            "name": "python3",
            "display_name": "Python 3.7",
            "language": "python"
        },
        "language_info": {
            "name": "python",
            "version": "3.7.9",
            "mimetype": "text/x-python",
            "codemirror_mode": {
                "name": "ipython",
                "version": 3
            },
            "pygments_lexer": "ipython3",
            "nbconvert_exporter": "python",
            "file_extension": ".py"
        }
    },
    "nbformat": 4,
    "nbformat_minor": 1
}
